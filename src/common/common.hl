module tx_common

import {
    PRICE_VALIDATOR_ADDR
} from "./addresses.hl"
import {
    Price,
    PRICE_PARAMETER_TOKEN
} from "./Price.hl"

func current_price(ctx: ContractContext) -> Price {
    Price::from_data(
        ctx.network.pick(PRICE_VALIDATOR_ADDR, PRICE_PARAMETER_TOKEN)
            .get_singleton()
            .datum
            .get_inline_data()
    )
}
